{% extends "base.html" %}
{% block title %}Communities{% endblock %}
{% block content %}
  {% include 'posts/includes/switcher.html' with page_header="Communities" %}
  <div class="row border rounded mb-4 shadow-sm">
    <div class="col p-4 d-flex flex-column">
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Group</th>
            <th scope="col">Description</th>
            <th scope="col">Number of posts</th>
          </tr>
        </thead>
        <tbody>
          {% for group in page_obj %}
            <tr>
              <td>
                <a href="{% url 'posts:group_list' group.slug %}" title="all group entries">
                  {{ group.title }}
                </a>
              </td>
              <td>{{ group.description|truncatechars:60 }}</td>
              <td>{{ group.posts.count }}</td>
            </tr>
          {% empty %}
            <p>There are no communities on the site yet. Create the first!</p>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
